// Package oui contains the types for schema 'oui'.
package oui

// Code generated by xo. DO NOT EDIT.

import (
	"time"

	"github.com/google/uuid"
)

// FnCreateNewPatient calls the stored procedure 'oui.fn_create_new_patient(text, text, text, date, text, text, text, uuid) uuid' on db.
func FnCreateNewPatient(db XODB, i_username string, i_family_name string, i_given_name string, i_birth_date time.Time, i_gender_identity string, i_race string, i_sexual_orientation string, i_organization_id uuid.UUID) (uuid.UUID, error) {
	var err error

	// sql query
	const sqlstr = `SELECT oui.fn_create_new_patient($1, $2, $3, $4, $5, $6, $7, $8)`

	// run query
	var ret uuid.UUID
	XOLog(sqlstr, i_username, i_family_name, i_given_name, i_birth_date, i_gender_identity, i_race, i_sexual_orientation, i_organization_id)
	err = db.QueryRow(sqlstr, i_username, i_family_name, i_given_name, i_birth_date, i_gender_identity, i_race, i_sexual_orientation, i_organization_id).Scan(&ret)
	if err != nil {
		return uuid.New(), err
	}

	return ret, nil
}
