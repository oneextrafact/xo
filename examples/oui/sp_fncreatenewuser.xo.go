// Package oui contains the types for schema 'oui'.
package oui

import "github.com/google/uuid"

// Code generated by xo. DO NOT EDIT.

// FnCreateNewUser calls the stored procedure 'oui.fn_create_new_user(text, text, text) uuid' on db.
func FnCreateNewUser(db XODB, i_username string, i_family_name string, i_given_name string) (uuid.UUID, error) {
	var err error

	// sql query
	const sqlstr = `SELECT oui.fn_create_new_user($1, $2, $3)`

	// run query
	var ret uuid.UUID
	XOLog(sqlstr, i_username, i_family_name, i_given_name)
	err = db.QueryRow(sqlstr, i_username, i_family_name, i_given_name).Scan(&ret)
	if err != nil {
		return uuid.New(), err
	}

	return ret, nil
}
